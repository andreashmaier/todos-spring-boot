<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Neues Todo erstellen</title>
    <link rel="stylesheet" href="/webjars/bootstrap/3.3.7-1/css/bootstrap.min.css"/>
    <script>
        function eintragen() {
            let bezeichnung = document.getElementById("bezechnungId").value;
            let prio = document.getElementById("prio").value;
            let todo = {};
            todo.bezeichnung = bezeichnung;
            todo.prioritaet = prio;
            console.log(todo);
            let data = JSON.stringify(todo);
            console.log(data);
            let xhr = new XMLHttpRequest();
            let url = "/api/v1/todos";
            xhr.open("POST", url, true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 201) {
                    location.href = "/todos";
                }
            };
            xhr.send(data);
        }
    </script>
</head>
<body>
<div class="container">
    <h1>Neues Todo erstellen</h1>
    <div class="form-group">
        <label for="bezechnungId">Bezeichnung</label>
        <input type="text" class="form-control" id="bezechnungId" placeholder="">
        <!--            <small id="bezeichnungHelp" class="form-text text-muted">Bezeichnung des Todos</small>-->
    </div>
    <div class="form-group">
        <label for="prio">Priorit√§t</label>
        <input type="number" class="form-control" id="prio">
    </div>
    <button type="text" class="btn btn-success" onclick="eintragen()">Absenden</button>
</div>
<script src="/webjars/jquery/3.1.1/jquery.min.js"></script>
<script src="/webjars/bootstrap/3.3.7-1/js/bootstrap.min.js"></script>
</body>
</html>